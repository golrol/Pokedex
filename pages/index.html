<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" href="static/styles/index_style.css">
    <title>Main page</title>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-2"></div>
            <div class="col-8 text-center mt-5">
                <h1>Welcome to Pok&#233;dex</h1>
            </div>
            <div class="col-2"></div>
        </div>

        <div class="row">
            <div class="col-2"></div>
            <div class="col-8 mt-2">
                <p>
                    Every Pokémon creature has an array of stats. HP (Hit Points) is a Pokémon's life force. If your Pokémon's HP hits zero, it faints and is no longer usable in battle (it can still use Hidden Machines, though). The Speed stat decides which Pokémon will
                    make the first move in battle. This stat can be critical in long battles. Attack and Special Attack measure the strength of moves used by your Pokémon; the higher this is, the more damage you will do to opponents. Attack corresponds
                    to moves in the Physical category, while Special Attack corresponds to Special moves. Similarly, Defense and Special Defense measure the ability to take attacks from other Pokémon; the higher the stat is, the fewer Hit Points will
                    be lost when attacked. Defense corresponds to moves in the Physical category, while Special Defense corresponds to Special moves.
                </p>
            </div>
            <div class="col-2"></div>
        </div>

        <div class="row">
            <div class="col-2"></div>
            <div class="col-8 text-center mt-5">
                <a href="/pokemons" class="btn btn-secondary">View all Pok&#233;mons</a>
            </div>
            <div class="col-2"></div>
        </div>
        <div class="row">
            <div class="col-2"></div>
            <div class="col-8 text-center mt-5">
                <table class="table table-borderless">
                    <caption>
                        Most viewed Pok&#233;mons
                    </caption>
                    <tr>
                        <td class="w-25">
                            <a href="" id="firstImgLink">
                                <img id="firstMaxPopImg" src="" class="img-fluid" alt="">
                            </a>
                        </td>
                        <td>
                            <a href="" id="firstMaxPop"></a>
                        </td>
                    </tr>
                    <tr>
                        <td class="w-25">
                            <a href="" id="secondImgLink">
                                <img id="secondMaxPopImg" src="" class="img-fluid" alt="">
                            </a>
                        </td>
                        <td>
                            <a href="" id="secondMaxPop"></a>
                        </td>
                    </tr>
                    <tr>
                        <td class="w-25">
                            <a href="" id="thirdImgLink">
                                <img id="thirdMaxPopImg" src="" class="img-fluid" alt="">
                            </a>
                        </td>
                        <td>
                            <a href="" id="thirdMaxPop"></a>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="col-2"></div>
        </div>

    </div>

    <script>
        function printMax3(elem) {
            if (elem[0][1] != 0) {
                fetch('/pokemons/max3/' + elem[0][0]).then(res => res.json()).then(x => {
                    document.getElementById("firstMaxPop").innerHTML = '<h3>' + x.name + '</h3>';
                    document.getElementById("firstMaxPop").href = 'pokemons/' + x.id;
                    document.getElementById("firstImgLink").href = 'pokemons/' + x.id;
                    var idPath = ""
                    if (x.id < 10) {
                        idPath += '00' + x.id;
                    } else if (x.id < 100) {
                        idPath += '0' + x.id;
                    } else {
                        idPath += x.id;
                    }
                    document.getElementById("firstMaxPopImg").src = 'static/images/' + idPath + '.png';
                });

            }
            if (elem[1][1] != 0) {
                fetch('/pokemons/max3/' + elem[1][0]).then(res => res.json()).then(x => {
                    document.getElementById("secondMaxPop").innerHTML = '<h3>' + x.name + '</h3>';
                    document.getElementById("secondMaxPop").href = 'pokemons/' + x.id;
                    document.getElementById("secondImgLink").href = 'pokemons/' + x.id;
                    var idPath = ""
                    if (x.id < 10) {
                        idPath += '00' + x.id;
                    } else if (x.id < 100) {
                        idPath += '0' + x.id;
                    } else {
                        idPath += x.id;
                    }
                    document.getElementById("secondMaxPopImg").src = 'static/images/' + idPath + '.png';
                });
            }
            if (elem[2][1] != 0) {
                fetch('/pokemons/max3/' + elem[2][0]).then(res => res.json()).then(x => {
                    document.getElementById("thirdMaxPop").innerHTML = '<h3>' + x.name + '</h3>';
                    document.getElementById("thirdMaxPop").href = 'pokemons/' + x.id;
                    document.getElementById("thirdImgLink").href = 'pokemons/' + x.id;
                    var idPath = ""
                    if (x.id < 10) {
                        idPath += '00' + x.id;
                    } else if (x.id < 100) {
                        idPath += '0' + x.id;
                    } else {
                        idPath += x.id;
                    }
                    document.getElementById("thirdMaxPopImg").src = 'static/images/' + idPath + '.png';
                });
            }
        }

        fetch("/max3").then(res => res.json()).then(printMax3);
    </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>

</html>